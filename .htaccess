<IfModule mod_rewrite.c>
    RewriteEngine On
    RewriteBase /

    # Evitar loops infinitos
    RewriteCond %{REQUEST_URI} ^/index\.php$
    RewriteRule ^(.*)$ - [L]

    # Redirigir todo al front controller (excepto archivos reales)
    RewriteCond %{REQUEST_FILENAME} !-f
    RewriteCond %{REQUEST_FILENAME} !-d
    RewriteRule ^(.*)$ index.php?url=$1 [QSA,L]
</IfModule>

# Proteger archivos sensibles
<FilesMatch "\.(sql|lock|json|md|yml|yaml|log)$">
    <IfModule mod_authz_core.c>
        Require all denied
    </IfModule>
    <IfModule !mod_authz_core.c>
        Order deny,allow
        Deny from all
    </IfModule>
</FilesMatch>

# Deshabilitar listado de directorios
Options -Indexes

# Charset UTF-8
AddDefaultCharset UTF-8
